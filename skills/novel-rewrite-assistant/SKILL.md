# SKILL.md - 小说仿写助手

**触发词**: 仿写小说, 小说创作, 写小说, 小说分析, 小说仿写, 创作助手

**描述**: 智能小说仿写助手，分析参考小说并仿照其风格创作新故事，自动生成配角名字和变换场景

**作者**: 小怪 (openclaw-001)

**版本**: 1.0.0

**依赖**: python3, requests, beautifulsoup4, jieba (中文分词)

## 功能特性

### 📚 **智能小说分析**
- **自动抓取**: 从URL读取小说内容
- **内容解析**: 提取章节、角色、情节
- **风格分析**: 分析写作风格、语言特点
- **结构识别**: 识别剧情结构、节奏安排

### 🎭 **角色系统**
- **主角定制**: 用户指定主角名字和基本设定
- **配角生成**: 自动生成符合背景的配角名字
- **性格分析**: 分析参考小说角色性格特征
- **关系构建**: 自动构建角色关系网络

### 📖 **剧情创作**
- **框架定义**: 用户定义整体剧情框架
- **仿写创作**: 仿照参考小说风格创作新内容
- **场景变换**: 保持剧情逻辑但改变具体场景
- **情节改编**: 相似但不同的情节发展

### 🎨 **写作辅助**
- **风格模仿**: 模仿参考小说的语言风格
- **节奏控制**: 保持相似的剧情节奏
- **对话生成**: 生成符合角色性格的对话
- **描写优化**: 优化场景和人物描写

## 使用方法

### 基本流程
```
仿写小说 <小说URL> <主角名> <剧情框架>
```

### 详细步骤
1. **输入参考小说链接**
   ```
   仿写小说 https://example.com/novel
   ```

2. **指定主角信息**
   ```
   主角: 林风
   年龄: 18岁
   性格: 聪明但内向
   背景: 普通高中生
   ```

3. **定义剧情框架**
   ```
   框架: 都市异能
   主线: 意外获得超能力，卷入异能者斗争
   结局: 成为异能界领袖，维护世界和平
   ```

4. **开始创作**
   ```
   开始创作
   ```

### 高级选项
```
仿写小说 --analyze-only      # 只分析不创作
仿写小说 --chapters 20       # 指定章节数
仿写小说 --style 轻松        # 指定写作风格
仿写小说 --output novel.txt  # 指定输出文件
```

## 技术实现

### 小说分析模块
```python
# 核心分析功能
1. 网页抓取和内容提取
2. 章节分割和标题识别
3. 角色名称和对话提取
4. 情节转折点识别
5. 写作风格特征提取
```

### 角色生成模块
```python
# 智能命名系统
1. 基于背景文化的名字生成
2. 性格与名字的匹配算法
3. 角色关系自动构建
4. 配角名字数据库
```

### 剧情创作模块
```python
# 仿写创作引擎
1. 剧情框架解析
2. 场景变换算法
3. 情节改编逻辑
4. 风格模仿模型
```

## 文件结构
- `SKILL.md` - 本文件
- `novel_rewriter.py` - 主程序
- `analyzer.py` - 小说分析模块
- `character_generator.py` - 角色生成模块
- `story_writer.py` - 剧情创作模块
- `name_database/` - 名字数据库
- `templates/` - 写作模板
- `config.json` - 配置文件

## 配置说明

### config.json
```json
{
  "analysis": {
    "max_chapters": 50,
    "min_chapter_length": 500,
    "extract_dialogues": true,
    "detect_plot_points": true
  },
  "generation": {
    "name_style": "chinese",
    "auto_relationships": true,
    "character_depth": "medium",
    "max_supporting_chars": 10
  },
  "writing": {
    "style_imitation": true,
    "scene_variation": true,
    "plot_adaptation": true,
    "chapter_length": 3000,
    "output_format": "markdown"
  },
  "cache": {
    "enabled": true,
    "ttl": 86400,
    "max_size": 1000000
  }
}
```

## 名字数据库

### 中文名字库
- **姓氏**: 100+常见姓氏
- **男性名字**: 500+常用字组合
- **女性名字**: 500+常用字组合
- **特殊名字**: 仙侠、武侠、奇幻专用

### 名字生成规则
1. **文化匹配**: 根据小说背景选择名字风格
2. **性别识别**: 自动识别角色性别
3. **性格关联**: 名字与性格特征关联
4. **避免重复**: 确保名字唯一性

## 创作示例

### 输入参考小说
《斗破苍穹》风格

### 用户定义
- 主角: 萧炎 → 改为: 林炎
- 框架: 玄幻修仙
- 主线: 废柴逆袭，成为强者

### 输出新小说
《武动乾坤》风格仿写：
- 场景: 乌坦城 → 改为: 青云镇
- 配角: 药老 → 改为: 剑老
- 情节: 类似但不同的奇遇和挑战

## 性能优化

### 缓存机制
- 小说内容缓存
- 分析结果缓存
- 生成内容缓存

### 并行处理
- 多章节并行分析
- 批量名字生成
- 异步内容抓取

### 资源管理
- 内存使用优化
- 网络请求限流
- 文件分块处理

## 扩展功能

### 多语言支持
- 中文小说分析
- 英文小说分析
- 日文小说分析
- 自动翻译支持

### 风格库扩展
- 金庸武侠风格
- 网络小说风格
- 文学经典风格
- 自定义风格训练

### 输出格式
- Markdown格式
- HTML格式
- EPUB电子书
- 微信读书格式

## 使用限制

### 技术限制
- 需要网络访问权限
- 依赖网页结构规整
- 中文支持最佳
- 长篇小说需要时间分析

### 版权注意
- 仅供学习和创作参考
- 尊重原作品版权
- 生成的原创内容可自由使用
- 建议注明参考来源

## 更新计划
- v1.1.0: 增加英文小说支持
- v1.2.0: 添加风格训练功能
- v1.3.0: 支持多格式输出
- v2.0.0: 深度学习模型集成

---

**让创作更简单，让想象更自由！** ✍️📚